{% extends 'main/index.html' %}
{% load static %}

{% block title %}Home{% endblock %}
{% block style %}
<style>
    .card{
        width: 20rem;

    }
        .profile-card {
            max-width: 400px;
            border-radius: 15px;
            overflow: hidden;
            position: relative;
            background-color: #1D3557;
            padding: 20px;
        }

        .profile-image-container {
            width: 200px;
            height: 200px;
            margin: 20px auto;
            border-radius: 50%;
            overflow: hidden;
            background-color: #fff;
        }

        .profile-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .profile-info {
            padding: 15px;
            color: white;
            text-align: center;
            margin-bottom: 60px;  /* Space for buttons */
        }

        .action-buttons {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 10px;
            display: flex;
            justify-content: center;
            gap: 10px;
            background: rgba(255, 255, 255, 0.1);
        }

        .btn-circle {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            padding: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
        }

        .btn-circle:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .verified-badge {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 20px;
            height: 20px;
            background-color: #dc3545;
            border-radius: 50%;
            margin-left: 5px;
            font-size: 12px;
        }
</style>
{% endblock %}
{% block content %}
<div class="">
    <section class="">
        {% if request.user.is_authenticated %}
            {% for group in request.user.groups.all %}

                {% if group.name == 'candidate' %}

                    {% include "organization/carousel.html" %}

                {% elif group.name == 'organizations' %}

                {% include "organization/carousel.html" %}
                {% else %}


                {% endif %}
            {% endfor%}
        {% else %}
        <div class="container pt-5 mt-5">

            <div class="container-fluid d-flex flex-column align-items-center">
                <div class="text-center p-5 mb-5">
                    <form class="shadow pe-5 ps-5 pt-2 rounded-5 {% if request.GET.type == 'candidate' %}bg-organization{% elif request.GET.type == 'organization' %}bg-candidate{% endif %}">
                    <div class="btn-group btn-group-lg" role="group">
                        <input type="radio" class="btn-check" name="type" id="candidate" value="candidate" {% if request.GET.type == 'candidate' %}checked{% endif %} onclick="form.submit()">
                        <label class="btn btn-outline-primary rounded-left" for="candidate">Apply</label>

                        <input type="radio" class="btn-check" name="type" id="org" value="organization" {% if request.GET.type == 'organization' %}checked{% endif %} onclick="form.submit()">
                        <label class="btn btn-outline-primary" for="org">Hire</label>
                    </div>
                    </form>
                </div>


                    <div class="container-fluid pb-5">
                        <!-- Candidate Home View -->
                        {% if request.GET.type == 'candidate' %}
                        <div class="text-center ">
                            <h1 class="display-3">Find Your <span class="text-warning">Dream Job</span> here !</h1>
                            <h4 class="mt-3">The easiest way to get your dream job, create trackable resumes <br> and enrich your application and employers will find you!</h4>
                            <a class="btn btn-lg btn-warning pt-2 rounded-5">Get Started</a>
                        </div>
                        <div class="space d-flex gap-5">
                            <img src="{% static 'images/home-arrow.svg' %}" width="30%">
                        </div>
                        <div class="text-start pt-5 w-50">
                            <h1>it's more than a resume!</h1>
                            <h6 class="display-6">create a Robust profile in minutes and get hired!</h6>

                        </div>
                        <!-- Organization Home View -->
                        {% elif request.GET.type == 'organization' %}
                        <div class="text-center">
                            <h1 class="display-3 text-light"><span class="text-warning">Hire</span> Our Top Talented Candidates</h1>
                            <h2 class="mt-3 text-light">24,000+ Talent from around 80+ Country</h2>
                            <a class="btn btn-lg btn-warning pt-2 rounded-5">Get Started</a>
                        </div>
                        <div class="space d-flex gap-5">
                            <img src="{% static 'images/home-arrow.svg' %}" width="30%">
                        </div>

                        <!-- Guest Home View -->
                        {% else %}
                            <h1 class="display-3">Find Your <span class="text-warning">Dream Job</span>Or <span></span> here !</h1>
                            <h4 class="mt-3">The easiest way to get your dream job, create trackable resumes <br> and enrich your application and employers will find you!</h4>
                            <a class="btn btn-lg btn-warning">Get Started</a>
                        {% endif %}
                    </div>

        </div>
        </div>
        {% endif %}

    </section>

    <div class="container-fluid pt-5 {% if request.GET.type == 'candidate' %}bg-organization{% elif request.GET.type == 'organization' %}bg-candidate{% else %}bg-organization{% endif %}">
        {% if request.GET.type == 'candidate' %}
        <div>
            <h1 class="display-3 text-center text-light">Features</h1>
            <section class="row row-cols-1 row-cols-3 gap-1 justify-content-center pb-5 pt-3 ps-5 m-5">
                <div class="container" style="top: 250px;">
                <div class="row g-4">

                    <!-- Exclusive opportunities Card -->
                    <div class="col-md-4">
                        <div class="card h-100 shadow">
                            <div class="card-body text-center p-4">
                                <div class="rounded-circle bg-light d-inline-flex p-3 mb-3">
                                    <img src="https://squadio.com/img/ic_Opportunities.eddfc4c2.svg">
                                </div>
                                <h5 class="card-title">Exclusive opportunities</h5>
                                <p class="card-text">at squadio, we're focused on finding your rewarding long term roles where you can hone skills & grow your career.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Smart Matching Card -->
                    <div class="col-md-4">
                        <div class="card h-100 shadow">
                            <div class="card-body text-center p-4">
                                <div class="rounded-circle bg-light d-inline-flex p-3 mb-3">
                                    <img src="https://squadio.com/img/ic_Top-notch.18b7622d.svg">
                                </div>
                                <h5 class="card-title">Smart Matching</h5>
                                <p class="card-text">Our team leverages human expertise as well as smart matching automation to match you with long-lasting rewarding roles at innovative companies.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Competitive Compensation Card -->
                    <div class="col-md-4">
                        <div class="card h-100 shadow">
                            <div class="card-body text-center p-4">
                                <div class="rounded-circle bg-light d-inline-flex p-3 mb-3">
                                    <img src="https://squadio.com/img/ic_Compensation.e5798caf.svg">
                                </div>
                                <h5 class="card-title">Competitive Compensation</h5>
                                <p class="card-text">Our Mission is to find you the right opportunity at a salary that reflects your expertise & your skills, with opportunity for additional benefits.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Up-to-date technologies Card -->
                    <div class="col-md-4">
                        <div class="card h-100 shadow">
                            <div class="card-body text-center p-4">
                                <div class="rounded-circle bg-light d-inline-flex p-3 mb-3">
                                    <img src="https://squadio.com/img/ic_technical-support.bc9973e0.svg">
                                </div>
                                <h5 class="card-title">Up-to-date technologies</h5>
                                <p class="card-text">we use the latest technologies and tools in our projects.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Professional Flexibility Card 1 -->
                    <div class="col-md-4">
                        <div class="card h-100 shadow">
                            <div class="card-body text-center p-4">
                                <div class="rounded-circle bg-light d-inline-flex p-3 mb-3">
                                    <img src="https://squadio.com/img/ic_Working_Hours.69e932a8.svg">
                                </div>
                                <h5 class="card-title">Professional Flexibility</h5>
                                <p class="card-text">The Right Client role for you based on work schedule, tech stacks and overall best fit</p>
                            </div>
                        </div>
                    </div>

                    <!-- Mobility Card 2 -->
                    <div class="col-md-4">
                        <div class="card h-100 shadow">
                            <div class="card-body text-center p-4">
                                <div class="rounded-circle bg-light d-inline-flex p-3 mb-3">
                                    <img src="https://squadio.com/img/ic_Working_Remotely.2b461fe2.svg">
                                </div>
                                <h5 class="card-title">work remotely and onsite</h5>
                                <p class="card-text">Work from home and have an impact on products solving problems in different countries.</p>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
            </section>
        </div>
        {% elif request.GET.type == 'organization' %}
        <div class="container p-3">
        <h1 class="text-center display-4"> Meet Our Talents </h1>
        <section class="container row row-cols-1 row-cols-3">
            {% if cands %}
                {% for cand in cands %}
                <div class="profile-card m-2">
                    <div class="d-flex justify-content-center gap-2">
                        <h4 class="text-light">{{cand.user.first_name}}{{cand.user.last_name}}</h4> {% if cand.approved %}
                        <i class="bi bi-patch-check-fill text-success" style="font-size: 1.2rem"></i>
                        {% else %}
                        <i class="bi bi-exclamation-circle-fill text-danger" style="font-size: 1.2rem"></i>
                        {% endif %}
                    </div>
                    <div class="profile-image-container">
                        <img src="{{ cand.avatar.url }}" alt="{{ org.name }}" class="profile-image">
                    </div>
                    <div class="profile-info">
                        <div class="d-flex align-items-center justify-content-center">
                            <h4 class="mb-0 me-2">{{ cand.about }}</h4>
                        </div>
                        {% if cand.skills.all %}
                            <div class="d-flex gap-2 p-3 justify-content-center">
                            {% for skill in cand.skills.all %}
                                <button class="btn btn-warning rounded-5">{{skill.skill_name}}</button>
                            {% endfor %}
                            </div>
                        {% endif %}
                        <div class="d-flex pt-2 gap-2 justify-content-center">
                            {% for skill in org.skills.all %}
                            <button class="btn btn-warning rounded-5">{{skill.skill_name}}</button>
                            {% endfor %}
                        </div>
                    </div>

                </div>
                {% endfor %}
            {% endif %}

        </section>
        {% endif %}
        </div>
    </div>
    <section class="container text-center mt-5 mb-5 {% if request.GET.type == 'organization' %}text-light{% else %}text-dark{% endif %}">
        <h1>How To Get Started</h1>
        <p>Nervous? Don't be! Squadio has found roles for thousands of people accross the globe. Here is a breakdown of how to get started.</p>
        <div class="row justify-content-center">
            <div class="col m-5">
                <h1>1</h1>
                <h3>Register Account</h3>
                <hr>
                <p>register to join</p>
                <p>register to join</p>
                <small>register to join</small>

            </div>
            <div class="col m-5">
                <h1>2</h1>
                <h3>Complete Your Account</h3>
                <hr>
                {% if request.GET.type == 'candidate' %}
                <p>Add experience</p>
                <p>Add Skills</p>
                <small>Add Education and certificates</small>
                {% elif request.GET.type == 'organization' %}
                <p>Add experience</p>
                <p>Add Skills</p>
                <small>Add Education and certificates</small>
                {% endif %}
            </div>
            <div class="col m-5">
                <h1>3</h1>
                <h3>Swipe around opportunities</h3>
                <hr>
                <p>View opportunity details</p>
                <p>Like an opportunity</p>
                <small>Match and with job provider</small>
            </div>
            <div class="col m-5">
                <h1>4</h1>
                <h3>Get Your dream job</h3>
                <hr>
                <p>connect with job providers</p>
                <p>register to join</p>
                <small>register to join</small>
            </div>
        </div>
        <a class="btn btn-warning rounded-5">apply as candidate</a>
    </section>
</div>


{% endblock %}